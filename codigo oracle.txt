CREATE TABLE CLIENTE(
DNI_CLI NUMBER(8),
NOM_CLI VARCHAR2(30),
APE_CLI VARCHAR2(30),
TEL_CLI NUMBER(11)
);

ALTER TABLE CLIENTE ADD CONSTRAINT PK_CLIENTE PRIMARY KEY (DNI_CLI);

SELECT * FROM CLIENTE;

CREATE TABLE PEDIDO(
COD_PED VARCHAR2(20),
NOM_PED VARCHAR2(30),
CAN_PED NUMBER(9),
CAT_PED VARCHAR2(20),
TIPO_PED VARCHAR2(20),
FECHA_PED DATE,
PRE_PED NUMBER(9,2),
DNI_CLI NUMBER(8)
);

ALTER TABLE PEDIDO ADD CONSTRAINT CHK_PEDIDO CHECK(CAN_PED>0);
ALTER TABLE PEDIDO ADD CONSTRAINT CHK_PEDIDO2  CHECK(PRE_PED>0);
ALTER TABLE PEDIDO ADD CONSTRAINT PK_PEDIDO PRIMARY KEY(COD_PED);
ALTER TABLE PEDIDO ADD CONSTRAINT FK_PEDIDO FOREIGN KEY(DNI_CLI) REFERENCES CLIENTE(DNI_CLI);

SELECT * FROM PEDIDO;

CREATE TABLE CATALOGO(
COD_MAT VARCHAR2(20),
NOM_MAT VARCHAR2(30),
DES_MAT VARCHAR2(30)
);
ALTER TABLE CATALOGO ADD CONSTRAINT PK_CATALOGO PRIMARY KEY(COD_MAT);

SELECT * FROM CATALOGO;

CREATE TABLE PEDIDO_CATALOGO(
COD_PED VARCHAR2(20),
COD_MAT VARCHAR2(20)
);
ALTER TABLE PEDIDO_CATALOGO ADD CONSTRAINT FK_PEDIDO_CATALOGO1 FOREIGN KEY (COD_PED) REFERENCES PEDIDO(COD_PED);
ALTER TABLE PEDIDO_CATALOGO ADD CONSTRAINT FK_PEDIDO_CATALOGO2 FOREIGN KEY (COD_MAT) REFERENCES CATALOGO(COD_MAT);

SELECT * FROM PEDIDO_CATALOGO;

CREATE TABLE ALMACEN(
COD_ALM VARCHAR2(20),
DES_ALM VARCHAR2(30)
);

ALTER TABLE ALMACEN ADD CONSTRAINT PK_ALMACEN PRIMARY KEY(COD_ALM);

CREATE TABLE ALMACEN_CATALOGO(
COD_ALM VARCHAR2(20),
COD_MAT VARCHAR2(20),
STOCK NUMBER(9)
);

ALTER TABLE ALMACEN_CATALOGO ADD CONSTRAINT FK_ALMACEN_CATALOGO1 FOREIGN KEY(COD_ALM) REFERENCES ALMACEN(COD_ALM);
ALTER TABLE ALMACEN_CATALOGO ADD CONSTRAINT FK_ALMACEN_CATALOGO2 FOREIGN KEY(COD_MAT) REFERENCES CATALOGO(COD_MAT);
ALTER TABLE ALMACEN_CATALOGO ADD CONSTRAINT CHK_ALMACEN_CATALOGO CHECK(STOCK>0);